/* qing-sortable v0.0.1 | (c) Mycolorway Design | MIT License */
!function(t,e){"object"==typeof module&&module.exports?module.exports=e(require("jquery"),require("qing-module")):t.QingSortable=e(t.jQuery,t.QingModule)}(this,function(t,e){var o=require=function t(e,o,n){function i(s,a){if(!o[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var l=o[s]={exports:{}};e[s][0].call(l.exports,function(t){var o=e[s][1][t];return i(o?o:t)},l,l.exports,t,e,o,n)}return o[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({"qing-sortable":[function(o,n,i){var r,s,a,u,p,l,c,f,h,g=function(t,e){function o(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},d={}.hasOwnProperty;r=null,s=null,p=t([]),u=t([]),h=null,l=1,f=function(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))},c=function(t,e){return e.left>t.right?e.bottom<t.top?{delta:f(e.left-t.right,t.top-e.bottom),position:9}:e.top>t.bottom?{delta:f(e.left-t.right,e.top-t.bottom),position:3}:{delta:e.left-t.right,position:2}:e.right<t.left?e.bottom<t.top?{delta:f(t.left-e.right,t.top-e.bottom),position:7}:e.top>t.bottom?{delta:f(t.left-e.right,e.top-t.bottom),position:5}:{delta:t.left-e.right,position:6}:e.bottom<t.top?{delta:t.top-e.bottom,position:8}:e.top>t.bottom?{delta:e.top-t.bottom,position:4}:{delta:0,position:1}},a=function(e){function o(e){o.__super__.constructor.apply(this,arguments),this.opts=t.extend({},o.opts,this.opts),this.container=t(this.opts.container),this.items=this.container.find(this.opts.items),this._checkOptions(),this._cid=l++,u=u.add(this.container),p=p.add(this.items),this._bind()}return g(o,e),o.opts={scope:document,container:null,items:"[draggable=true]",axis:"x"},o.prototype._checkOptions=function(){if(!(this.opts.items.length>0))throw new Error("QingSortable: option items is required");if(!(this.container.length>0))throw new Error("QingSortable: option container is required")},o.prototype._setDragImage=function(e){var o,n;return null!=(n=this.dragImage)&&n.hide().remove(),o=t(e.currentTarget),this.dragImage=o.clone().addClass("qing-sortable-dragimage"),this.dragImage.css({width:o.width(),height:o.height()}),this.dragImage.prependTo(o.parent()),e.originalEvent.dataTransfer.setDragImage(this.dragImage[0],e.pageX-o.offset().left,e.pageY-o.offset().top)},o.prototype._cacheMousePosition=function(e){var o;return o=t(e.currentTarget),this.mousePosition={x:e.pageX-o.offset().left,y:e.pageY-o.offset().top}},o.prototype._cacheContainerDimensions=function(){return this.containerDimensions=u.map(function(t){return function(e,o){return t._getElementDimension(o)}}(this)).get()},o.prototype._cacheItemPositions=function(){return this.itemCenters=p.map(function(e,o){var n,i;return n=t(o),i=n.offset(),{element:o,x:i.left+n.outerWidth()/2,y:i.top+n.outerHeight()/2}}).get()},o.prototype._getElementDimension=function(e){var o;return o=t(e).offset(),{top:o.top,left:o.left,bottom:o.top+t(e).outerHeight(),right:o.left+t(e).outerWidth(),element:e}},o.prototype._findNearestContainer=function(e){var o;return o=t.map(this.containerDimensions,function(t){return function(t,o){var n;return n=c(t,e),{delta:n.delta,position:n.position,dimension:t,element:t.element}}}(this)).sort(function(t,e){return t.delta-e.delta}),o[0].element},o.prototype._getItemDimension=function(t){var e;return e={left:t.pageX-this.mousePosition.x,top:t.pageY-this.mousePosition.y},e.right=e.left+r.outerWidth(),e.bottom=e.top+r.outerHeight(),e},o.prototype._findNearestItem=function(e,o){var n,i,r;return r=t(o).find(this.opts.items).not(s),i={x:(e.left+e.right)/2,y:(e.top+e.bottom)/2},n=r.map(function(e,o){var n,r,s,a,u;return n=t(o),a=n.offset(),r={x:a.left+n.outerWidth()/2,y:a.top+n.outerHeight()/2},s=f(i.x-r.x,i.y-r.y),u={delta:s,element:o,center:r,xDelta:r.x-i.x,yDelta:r.y-i.y}}).sort(function(t,e){return t.delta-e.delta}),n[0]},o.prototype._bind=function(){return this.scope=t(this.opts.scope),this.scope.on("dragstart.qingSortable"+this._cid,this.opts.items,function(e){return function(o){var n;if(n=t(o.target),t.contains(e.container[0],o.target))return e.isDragging=!0,e._cacheContainerDimensions(),e._cacheItemPositions(),e._cacheMousePosition(o),e._setDragImage(o),n.addClass("qing-sortable-placeholder"),r=n,s=n.clone()}}(this)),this.scope.on("dragover.qingSortable"+this._cid,function(e){return function(o){var n,i,a,u;if(o.preventDefault(),e.isDragging&&o.target!==r[0]&&!t.contains(r[0],o.target))return n=e._getItemDimension(o),u=e._findNearestContainer(n),a=e._findNearestItem(n,u),i="x"===e.opts.axis?a.xDelta>0?"before":"after":a.yDelta>0?"before":"after",t(a.element)[i](s)}}(this)),this.scope.on("dragend.qingSortable"+this._cid,this.opts.items,function(e){return function(o){var n;if(e.isDragging)return r.removeClass("qing-sortable-placeholder qing-sortable-hide"),s&&t.contains(document,s[0])&&(s.replaceWith(r),s=null),n=null}}(this)),this.scope.on("dragleave.qingSortable"+this._cid,this.opts.items,function(t){return function(e){if(t.isDragging)return e.currentTarget===r[0]?r.removeClass("qing-sortable-placeholder").addClass("qing-sortable-hide"):void 0}}(this))},o.prototype.destroy=function(){return p=p.not(this.items),u=u.not(this.contains),this.scope.off(".qingSortable"+this._cid)},o}(e),n.exports=a},{}]},{},[]);return o("qing-sortable")});